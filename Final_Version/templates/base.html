<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Clarkson Rowing{% endblock %} - Clarkson University</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body>
  <nav class="navbar navbar-dark">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="/">
        <img src="{{ url_for('static', filename='knight.png') }}" alt="Clarkson Knight" style="height:60px;">
        <span class="ms-3" style="color:#ffcd00; font-size:2.5rem; font-weight:900;">CLARKSON ROWING</span>
      </a>
      {% if session.name %}
        <div class="text-white fs-5">
          {{ session.name }} <small>({{ session.role }})</small>
          • <a href="/logout" style="color:#ffcd00; font-weight:bold; text-decoration:none;">Logout</a>
        </div>
      {% endif %}
    </div>
  </nav>

  <div class="container mt-5">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <div class="alert alert-{{ 'danger' if cat=='danger' else 'success' }} alert-dismissible fade show">
            {{ msg }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </div>

  <footer class="py-5 text-center text-white" style="background:#004e42; margin-top:5rem;">
    <p class="mb-0 fs-4">© 2025 Clarkson University Rowing • Go Golden Knights!</p>
  </footer>

  <!-- THIS MAKES THE X BUTTON WORK -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- SLIDING TOGGLE SWITCH - CLARKSON GREEN & GOLD -->
<div class="theme-toggle">
  <label class="theme-switch">
    <input type="checkbox" id="checkbox" onchange="toggleTheme()">
    <span class="slider"></span>
  </label>
</div>

<script>
function toggleTheme() {
  const body = document.body;
  if (document.getElementById('checkbox').checked) {
    body.setAttribute('data-theme', 'dark');
    localStorage.setItem('theme', 'dark');
  } else {
    body.removeAttribute('data-theme');
    localStorage.setItem('theme', 'light');
  }
}

// Load saved theme
if (localStorage.getItem('theme') === 'dark') {
  document.getElementById('checkbox').checked = true;
  document.body.setAttribute('data-theme', 'dark');
}
</script>
</body>
</html>